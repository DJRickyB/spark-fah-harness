/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Scala library project to get you started.
 * For more details take a look at the Scala plugin chapter in the Gradle
 * User Manual available at https://docs.gradle.org/6.2.2/userguide/scala_plugin.html
 */

plugins {
    id 'scala'
    id 'idea'

    id 'java-library'

    id 'com.github.johnrengelman.shadow' version '5.2.0'
}

repositories {
    jcenter()
}

version = '1.0.0'

dependencies {
    implementation 'org.apache.spark:spark-core_2.12:2.4.5'
}
task createRHELZip(type: Zip) {
    from tasks.shadowJar
    from('rhel') {
        into 'FAH'
    }
    from 'scripts'

    from('config') {
        into 'config'
    }
    classifier = 'rhel'
    archiveName = "${project.name}-${project.version}-${classifier}.zip"
}

task createDists() {
    dependsOn createRHELZip
}